<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<title>--session</title>
	<link href="../css/style.css" rel="stylesheet" type="text/css" media="screen" />
	<link href="../css/print.css" rel="stylesheet" type="text/css" media="print" />
</head>

<body>
	<div id="page">
		<div id="contentwrapper">
			<div id="sidebar_navigation" class="sidebar">
				<div class="left_sidebar_menu">
					<div class="left_sidebar_menu_button">
						<a href="index.html">Inicio</a>
					</div>
					<div class="left_sidebar_menu_selected">
						<a href="documentation.html">Documentación</a>
					</div>
					<div class="left_sidebar_menu_button">
						<a href="download.html">Descargar</a>
					</div>
					<div class="left_sidebar_menu_button">
						<a href="faq.html">FAQ</a>
					</div>
					<div class="left_sidebar_menu_button">
						<a href="https://github.com/NICMx/NAT64/issues" target="_blank">
							Reportar un Bug
						</a>
					</div>
					<div class="left_sidebar_menu_button">
						<a href="about.html">Acerca de ...</a>
					</div>
					<div class="left_sidebar_menu_button">
						<a href="contact.html">Contacto</a>
					</div>
				</div>
			</div>
			<div id="content">
				<div class="worklogo">
					<a href="index.html"><img src="../images/jool.png" alt="logo-jool" /></a>
				</div>
				<div class="workarea">
					<div class="content_text">

<p><a href="documentation.html">Documentación</a> &gt; <a href="documentation.html#aplicacion-de-espacio-de-usuario">Herramienta de configuración de Jool</a> &gt; <a href="usr-flags.html">Parámetros</a> &gt; --session</p>

<h1 id="session">--session</h1>

<h2 id="ndice">Índice</h2>

<ol>
  <li><a href="#descripcin">Descripción</a></li>
  <li><a href="#sintaxis">Sintaxis</a></li>
  <li><a href="#opciones">Opciones</a>
    <ol>
      <li><a href="#operaciones">Operaciones</a></li>
      <li><a href="#protocols"><code>&lt;protocols&gt;</code></a></li>
      <li><a href="#numeric"><code>--numeric</code></a></li>
      <li><a href="#csv"><code>--csv</code></a></li>
    </ol>
  </li>
  <li><a href="#ejemplos">Ejemplos</a></li>
</ol>

<h2 id="descripcin">Descripción</h2>

<p>Mediante el mecanismo de sesiones el NAT64 decide cuando las entradas BIB pierden validez y deben de ser eliminadas. Mediante estas puedes saber exactamente quien le está hablando a tus nodos de IPv6.</p>

<p>Cada registro BIB es un mapeo, en el cual se guarda la relación entre un servicio en IPv4 y otro en IPv6. Para cada entrada BIB, hay cero o mas registros de sesiones. Estas representan las conexiones activas (BIBs en uso).</p>

<p>Este comando solo es informativo y con éste puedes obtener información detallada de cada una de tus conexiones.</p>

<h2 id="sintaxis">Sintaxis</h2>

<pre><code>jool --session [--display] [--numeric] [--csv] &lt;protocols&gt;
jool --session --count &lt;protocols&gt;
</code></pre>

<h2 id="opciones">Opciones</h2>

<h3 id="operaciones">Operaciones</h3>

<ul>
  <li><code>--display</code>: Lista las tablas de sesión. Operación por omisión.</li>
  <li><code>--count</code>: Lista la cantidad de registros por tabla de sesión.</li>
</ul>

<h3 id="protocols"><code>&lt;protocols&gt;</code></h3>

<pre><code>&lt;protocols&gt; := [--tcp] [--udp] [--icmp]
</code></pre>

<p>El comando aplica sobre la(s) tabla(s) específica(s). Si no se indica, entonces afecta a los tres protocolos.</p>

<h3 id="numeric"><code>--numeric</code></h3>

<p>La aplicación intentará resolver los nombres del nodos remotos hablando en cada sesión. <em>Si tus nameservers no estan respondiendo, esto retardará la salida</em>.</p>

<p>Utiliza <code>--numeric</code> para desactivar este comportamiento.</p>

<h3 id="csv"><code>--csv</code></h3>

<p>La aplicación muestra la información en un formato amigable para la consola.</p>

<p>Utiliza <code>--csv</code> para imprimir en <a href="http://es.wikipedia.org/wiki/CSV">formato CSV</a> para abrirse como hoja de cálculo.</p>

<p>En el formato CVS cada registro es impreso en una sola linea. Te recomendamos esta opción si requieres usar el comando grep para filtarar la información.</p>

<h2 id="ejemplos">Ejemplos</h2>

<p><img src="../images/usr-session.svg" alt="Fig.1 - Red para ejemplo de sesión" /></p>

<p>El cliente ipv6client.mx efectua dos solicitudes HTTP y un ping al servidor example.com en IPv4.</p>

<p>Para desplegar todas las sesiones activas en los tres protocolos, resolviendo nombres y con formato consola, ejecutar el siguiente comando:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>jool --session
TCP:
---------------------------------
<span class="o">(</span>V4_FIN_V6_FIN_RCV<span class="o">)</span> Expires in <span class="m">2</span> minutes, <span class="m">57</span> seconds
Remote: example.com#http	ipv6client.mx#58239
Local: 192.0.2.1#60477		64:ff9b::5db8:d877#80
---------------------------------
<span class="o">(</span>V4_FIN_V6_FIN_RCV<span class="o">)</span> Expires in <span class="m">3</span> minutes, <span class="m">52</span> seconds
Remote: example.com#http	ipv6client.mx#58237
Local: 192.0.2.1#6617		64:ff9b::5db8:d877#80
---------------------------------
  <span class="o">(</span>Fetched <span class="m">2</span> entries.<span class="o">)</span>

UDP:
---------------------------------
  <span class="o">(</span>empty<span class="o">)</span>

ICMP:
---------------------------------
Expires in <span class="m">50</span> seconds
Remote: example.com#1402	ipv6client.mx#13371
Local: 192.0.2.1#1402		64:ff9b::5db8:d877#13371
---------------------------------
  <span class="o">(</span>Fetched <span class="m">1</span> entries.<span class="o">)</span></code></pre></div>

<p>Ahora, filtra UDP e ICMP, muéstrame las IP numéricas y formato estándar:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>jool --session --display --tcp --numeric
TCP:
---------------------------------
<span class="o">(</span>V4_FIN_V6_FIN_RCV<span class="o">)</span> Expires in <span class="m">2</span> minutes, <span class="m">57</span> seconds
Remote: 93.184.216.119#80	2001:db8::2#58239
Local: 192.0.2.1#60477		64:ff9b::5db8:d877#80
---------------------------------
<span class="o">(</span>V4_FIN_V6_FIN_RCV<span class="o">)</span> Expires in <span class="m">3</span> minutes, <span class="m">52</span> seconds
Remote: 93.184.216.119#80	2001:db8::2#58237
Local: 192.0.2.1#6617		64:ff9b::5db8:d877#80
---------------------------------
  <span class="o">(</span>Fetched <span class="m">2</span> entries.<span class="o">)</span></code></pre></div>

<p>Sin resolver nombres, guarda todo en formato CSV al archivo session.csv:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>jool --session --display --numeric --csv &gt; session.csv</code></pre></div>

<p><a href="obj/session.csv">session.csv</a></p>

<p>Para concluir, solo muestra el número de registros de todas las tablas:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>jool --session --count
TCP: 2
UDP: 0
ICMP: 1</code></pre></div>



					</div>
				</div>
			</div>
			<div id="language_selector">
				
					<a href="../en/usr-flags-session.html">en</a>
				
				|
				
					<span class="selected">es</span>
				
			</div>
			<div style="clear: both;">&nbsp;</div>
		</div>
	</div>

	<div id="footer">
		<div class="logo-tec"><a href="http://www.itesm.mx"><img src="../images/logo-tec.png" alt="logo-tec" /></a></div>
		<div class="logo-nic"><a href="http://www.nicmexico.mx/"><img src="../images/logo-nic.png" alt="logo-nic" /></a></div>
		<p class="legal">&copy;Jool 2015</p>
	</div>

	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-44741331-2', 'jool.mx');
	  ga('send', 'pageview');

	</script>
</body>
</html>
